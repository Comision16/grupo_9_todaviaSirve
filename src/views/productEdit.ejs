<!DOCTYPE html>
<html lang="en">
<%- include('partials/head') %>
<body>
    <%- include('partials/header') %>

    <main class="editProduct__main">
    
      <form class="editProduct__main__form" action="/products/update/<%= id %>?_method=PUT" method="POST" enctype="multipart/form-data">
        <h3 class="editProduct__main__form--titulo">Edición De Producto</h3>
        <div class="mb-3">
          <label for="">Nombre </label>
          <input
            type="text"
            class="form-control"
            id="name"
            placeholder="Nombre Del Producto"
            name="name"
            value="<%= product.name %>"
          />
          <label for="">Marca </label>
          <input
            type="text"
            class="form-control"
            id="marca"
            placeholder="Marca Del Producto"
            name="marca"
            value="<%= product.marca %>"
          />
          <label for="" class="form-label">Precio</label>
          <input
            type="text"
            class="form-control"
            id="price"
            placeholder="Precio Del Producto"
            name="price"
            value="<%= product.price %>"
          />
        </div>

        <div class="mb-5">
          <label for="" class="form-label">Descripción</label>
          <textarea name="description" class="form-control" id="description" rows="3"><%= product.description %></textarea>
        </div>
        <div class="boxselect_categorias"></div>
        <div class="input-group mb-3">
          <label class="input-group-text" for="inputGroupSelect01">Categorías</label>
          <select class="form-select form-select-sm" aria-label="Default select example" name="category" id="category">
            <% categories.forEach(category => { %>
              <option <%= category.name === product.category && 'selected' %> value="<%= category.name %>"><%= category.name %></option>             
            <% }) %>
          </select>
        </div>
        <br />

        <div class="boxselect_estadoProducto">
          <div class="input-group mb-3">
            <label class="input-group-text" for="">Estado</label>
            <select class="form-select" id="state" name="state">       
              <option <%= product.state === "Nuevo" && 'selected' %> value="Nuevo">Nuevo</option>
              <option <%= product.state === "Usado" && 'selected' %> value="Usado">Usado</option>
            </select>
          </div>
        </div>
        <hr>
        <div class="boximage_imgProduct">
          <label for="" class="form-label">Imágenes del producto</label>
          
          <div class="col-12 col-md-6 d-flex gap-1">
            <% product.images.forEach(image => { %>
              <img width="100px" src="/images/productos/<%= image || "default-placeholder.jpg" %>" alt="">
            <% }) %>
          </div>
          
          <br>
          
          <div class="input-group mb-3">
            <label class="btn btn-secondary" for="images">Cambiar imágenes</label>
            <input hidden class="form-control" type="file" id="images" name="images" multiple>
          </div>
        </div>
        <hr>

        <div class="boxbutton">
          <div>
            <a href="/">
              <button type="submit" class="guardar_Cambios">Guardar Cambios</button>
            </a>
          </div>
          <div>
            <button type="reset" class="Borrar">Borrar</button>
          </div>
        </div>
      </form>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    </main>
     <%- include('partials/footer') %>  
  </body>
</html>
